(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{C8:()=>x,bh:()=>C,TD:()=>E});var t=function(e){e.classList.remove("popup_opened")},o=function(e){e.classList.add("popup_opened")};function r(e){C.src=e.target.closest(".photo-grid__item-image").src,E.textContent=e.target.closest(".photo-grid__item").querySelector(".photo-grid__title").textContent,o(x)}var n=function(e,o){"Escape"!=e.key&&"Esc"!=e.key||t(o)};function c(e){console.log(e.target),e.target.closest(".photo-grid__item").remove()}function i(e){console.log(e.target),e.target.closest(".photo-grid__like-button").classList.toggle("photo-grid__like-button_liked")}var p=function(e,t,o){var n=o.cloneNode(!0);return n.querySelector(".photo-grid__item-image").src=e,n.querySelector(".photo-grid__item-image").alt="Фото места",n.querySelector(".photo-grid__title").textContent=t,n.querySelector(".photo-grid__delete-button").addEventListener("click",c),n.querySelector(".photo-grid__item-image").addEventListener("click",r),n.querySelector(".photo-grid__like-button").addEventListener("click",i),n},u=function(e){e.querySelector(".popup__form").reset(),Array.from(e.querySelectorAll(".popup__input_type_error")).forEach((function(t){t.classList.remove("popup__input_type_error"),e.querySelector("#".concat(t.id,"-error")).textContent=""}));var t=e.querySelector(".popup__button");t.disabled=!0,t.classList.add("popup__button_disabled")},s=document.querySelector(".profile__title"),l=document.querySelector(".profile__subtitle"),a=document.forms.profileform,d=a.elements.nameinput,_=a.elements.aboutinput,m=document.querySelector(".profile__edit-button"),f=document.querySelector(".popup__profile");m.addEventListener("click",(function(){o(f),u(f),d.value=s.textContent,_.value=l.textContent})),a.addEventListener("submit",(function(e){e.preventDefault(),s.textContent=d.value,l.textContent=_.value,t(a.closest(".popup"))}));var v=document.querySelector(".profile__add-button"),y=document.querySelector(".popup__add-card");v.addEventListener("click",(function(){o(y),u(y)}));var g=document.forms.cardform,S=g.elements.placelink,b=g.elements.placeinput;g.addEventListener("submit",(function(e){j.prepend(p(S.value,b.value,A)),t(g.closest(".popup")),e.preventDefault(),g.reset()}));var h,q,k,L,C=document.querySelector(".popup__picture"),E=document.querySelector(".popup__picture-title"),x=document.querySelector(".popup__place-picture"),j=document.querySelector(".photo-grid"),A=document.querySelector("#grid-item").content.querySelector(".photo-grid__item");document.addEventListener("click",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close-button"))&&t(e.target.closest(".popup"))})),document.addEventListener("keydown",(function(e){var t=document.querySelector(".popup_opened");return t&&n(e,t),document.removeEventListener("keydown",(function(e){var t=document.querySelector(".popup_opened");t&&n(e,t)}))})),L=(k={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}).formSelector,Array.from(document.querySelectorAll(L)).forEach((function(e){!function(e,t){var o=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);o.forEach((function(n){n.addEventListener("input",(function(){!function(e,t,o){t.validity.valid?function(e,t,o){var r=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(o.inputErrorClass),r.classList.remove(o.errorClass),r.textContent=""}(e,t,o):function(e,t,o){var r=e.querySelector("#".concat(t.id,"-error"));t.classList.add(o.inputErrorClass),r.textContent=t.validationMessage,r.classList.add(o.errorClass)}(e,t,o)}(e,n,t),function(e,t,o){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(o.inactiveButtonClass),t.disabled=!1):(t.classList.add(o.inactiveButtonClass),t.disabled=!0)}(o,r,t)}))}))}(e,k)})),h=j,q=A,[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){h.append(p(e.link,e.name,q))}))})();